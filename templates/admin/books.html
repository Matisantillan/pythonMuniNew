











 {% include 'admin/header.html' %}


<div class="card-header">
    Datos del libro
</div>

<div class="card-body">
    <form action="/admin/libros/guardar" method="post" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="txtNombre" class="form-label">Nombre:</label>
            <input type="text" class="form-control" name="txtNombre" id="txtNombre">
        </div>

        <div class="mb-3">
            <label for="txtImagen" class="form-label">Imagen:</label>
            <input type="file" class="form-control" name="txtImagen" id="txtImagen">
        </div>

        <div class="mb-3">
            <label for="txtUrl" class="form-label">Url Descarga:</label>
            <input type="text" class="form-control" name="txtUrl" id="txtUrl">
        </div>

        <button type="submit" class="btn btn-primary">Agregar</button>
    </form>
</div>


{% block content %}
    <h4>Libros</h4>
    <form action="/admin/libros/eliminar-todo" method="post">
        <input type="hidden" name="eliminar_todo" value="true">
        <button type="submit">Eliminar todos los datos</button>
    </form>
    <table>
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Imagen</th>
                <th>URL Descarga</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for libro in libros %}
                <tr>
                    <td>{{ libro[1] }}</td>
                    <td>{{ libro[2] }}</td>
                    <td>{{ libro[3] }}</td>
                    <td>
                        <form action="/admin/libros/eliminar" method="post" style="display: inline;">
                            <input type="hidden" name="id" value="{{ libro[0] }}">
                            <button type="submit">Eliminar</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}  



{% include 'admin/footer.html' %}





<!--
{% include 'admin/header.html' %}

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="card-header">
                Datos del libro
            </div>

            <div class="card-body">
                <form action="/admin/libros/guardar" method="post" enctype="multipart/form-data" id="formularioLibro">
                    <div class="mb-3">
                        <label for="txtNombre" class="form-label">Nombre:</label>
                        <input type="text" class="form-control" name="txtNombre" id="txtNombre">
                    </div>

                    <div class="mb-3">
                        <label for="txtImagen" class="form-label">Imagen:</label>
                        <input type="file" class="form-control" name="txtImagen" id="txtImagen">
                    </div>

                    <div class="mb-3">
                        <label for="txtUrl" class="form-label">Url Descarga:</label>
                        <input type="text" class="form-control" name="txtUrl" id="txtUrl">
                    </div>

                    <button type="submit" class="btn btn-primary">Agregar</button>
                </form>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card-header">
                Datos ingresados
            </div>

            <div class="card-body" id="datosIngresados">
                 //Aquí se mostrarán los datos ingresados
            </div>
        </div>
    </div>
</div>

{% include 'admin/footer.html' %}

<script>
    // Capturar el formulario y prevenir el envío predeterminado
    const formulario = document.getElementById('formularioLibro');
    formulario.addEventListener('submit', function(event) {
        event.preventDefault();

        // Obtener los valores ingresados
        const nombre = document.getElementById('txtNombre').value;
        const imagen = document.getElementById('txtImagen').value;
        const url = document.getElementById('txtUrl').value;

        // Crear un nuevo elemento de lista y mostrar los valores ingresados
        const nuevoItem = document.createElement('li');
        nuevoItem.textContent = `Nombre: ${nombre}, Imagen: ${imagen}, Url Descarga: ${url}`;

        // Agregar el nuevo elemento a la lista existente
        const datosIngresados = document.getElementById('datosIngresados');
        datosIngresados.appendChild(nuevoItem);

        // Limpiar los campos del formulario
        formulario.reset();
    });
</script>

-->